# 3.4变量与常量

## 3.4.1声明变量  
比如boolean flag;声明以分号结束。变量名必须以字母开头并由字母或数字构成序列字母包括英文大小写字母,'_','$',其他语言中表示字母的任何Unicode字符(但还是一般用英文声明变量).注意变量名对大小写敏感。  
ps:请避免使用 $作为变量名，它只用在java编译器或其它工具生成名字中 。 

## 3.4.2变量初始化
>int num;  
num=13;  
int num_two=num; 

使用复制号(=)赋值,变量声明和初始化可以放在同一行  
从 java10开始,对于局部变量,可从初始值推断类型,只需使用关键字var  
如var greeting="Hello";//自动推断出greeting是String

## 3.4.3常量
利用final修饰变量来表示常量,赋值一次后无法修改,习惯上常量名大写。
如final double CM_PER_INCH=2.54;
````java
public class FirstSample
{
    /*
         final int X;//在方法外不可以让final变量先声明,后赋值
        X=11;//error
    */
    public static void main(String[] args)
    {
       final int X;//在方法内部可以让final变量先声明,后赋值
        X=11;
       System.out.println(x);
    } 
}
````

## 3.4.4枚举类型
适用于变量取值在有限范围内  
enum Size{SMALL,MEDIUM,LARGE};
现在就可以声明Size s=Size.SMALL;  
Size类型变量只能存储类型声明中定义的值,或者特殊值null(表示没有设置任何值)

--------------------------------

# 3.5运算符

## 3.5.1算数运算符  
使用+,-,*,/,分别代表加减乘除
当参与/运算两个数都是整数，表示整数除法(如3/2=1),小数位不会保留,会发生截断  
求余为%(如4%3=1,因为4/3的余数是1)  
整数除0会产生异常java.lang.ArithmeticException: / by zero
浮点数除0会得到无穷大
>System.out.println(Double.isInfinite(1.0/0));//输出为true

## 3.5.2数学函数与常量
位于Math类中,可在数学方法名或变量名前加Math使用,也可以使用静态导入(静态导入:导入类的静态成员)
```` java
import static java.lang.Math.*;//静态导入Math所有静态成员,*代表导入所有静态成员
public class FirstSample
{
    public static void main(String[] args)
    {
        
        System.out.println(Math.sqrt(4));//求平方根,为2.0
        System.out.println(Math.pow(2,3));//输出8.0,Math.pow()为幂函数，2^3=8;
        System.out.println(PI);//3.141592653589793,本来为Math.PI

    } 
}
````
Math中大多数为静态成员,比如Math.sqrt()为静态方法,静态方法随着类的定义而被分配和装载入内存中,不需要创建具体对象就可以使用。
```` java
class test{
    static void out()
    {
        System.out.println("hello world");
    }
}
public class FirstSample
{
    public static void main(String[] args)
    {
        
        test.out();//我们没有创造具体的test类对象，但依然可以调用out这个静态成员函数
    } 
}
````

## 3.5.3数值类型之间的转换 && 3.5.4强制类型转换
![数据之间合法转换](https://i.loli.net/2021/01/31/23Ebm7QX6IqlKir.png)  

实箭头代表转换无损失，虚线代表有精度损失  
  
强制类型转换
圆括号中给出想要转换的目标类型,后面紧跟待转换变量名
```` java
public class Test
{
    public static void main(String[] args)
    {
        
        double x=-9.6;
        System.out.println((int)x);//输出整数-9
        System.out.println(Math.round(x));//Math.round()是对浮点数进行舍入运算得到最接近整数，这里输出-10
    } 
}
````
//如果强制转换超出目标类型转换范围,会发生截断，比如(byte)300结果是44(因为byte是1个字节(8位),300最后8位是00101100,变成10进制表示就是44)

## 3.5.5结合赋值和运算符 && 3.5.6自增与自减运算符

```` java
public class Test
{
    public static void main(String[] args)
    {
        
        int x=1;
        x+=1;//相当于x=x+1;
        x-=1;//相当于x=x-2;
        x*=1;//相当于x=x*1;
        x/=1;//相当于x=x/1;
    } 
}
````  
  
    







---
关于自增1与自减1,
n++与++n都是将n的值加1,--n与n--都是将n减1,但运算符在前,是先自增/自减,在运算前自增1/自减1,
运算符在后则是先运算,后递增/递减.
```` java
public class Test
{
    public static void main(String[] args)
    {
        
        int x=1;
        System.out.println(x++);//先打印1，后递增。
        System.out.println(++x);//先递增，后打印3。
        System.out.println(x--);//先打印3，后递减
        System.out.println(--x);//先递减，后打印1
    } 
}
````


## 3.5.7关系和boolean运算符
|  关系运算符 |  例子  | 结果  |  
|:---:|:---:|:---:| 
|**==**(相等)|1==3|false|
|**!=**(不相等)|1!=2|true|
|**<**(小于)|2<3|true|
|**<=**(小于等于)|2<=2|true|
|**>**(大于)|3>2|true|
|>=(大于等于)|2>=2|true|
  
&&表示逻辑与,||表示逻辑或,!表示逻辑非,在逻辑表达式中均会有短路效果,即如果在当前部分已经判断出真假,之后语句不会执行
````java
public class Test
{
    public static void main(String[] args)
    {
        
        int x=0;
        if(x!=0 && 1/x>1)//先判断x是否为0,如果是则语句为flase,1/x>1不会执行,除0的一场也不会触发
        {
            System.out.println("happy");
        }
    } 
}
````
三目运算符  
形式:condition?expression1:experson2;   
如int val=x<y?x:y;//val取x和y中较小的那一个

## 3.5.8位运算符
对组成整数的各个位操作  
|   |    |  |
|:---:|:---:|:---:| 
|& |按位与 |只有对应的两个二进位均为1时，结果位才为1，否则为0|
| \| |按位或 |参与运算的两数各对应的二进位相或。只要对应的二个二进位有一个为1时，结果位就为1|
| ^|按位异或|参与运算的两数各对应的二进位相异或，当两对应的二进位相异时，结果为1|
|!|按位取反|参与运算只有一个数，其对于二进制1变成0,0变成1|
|<<|左移运算符|左移n位就是乘以2的n次方。 其功能把,左边的运算数的各二进位全部左移若干位，由,右边的数指定移动的位数，高位丢弃，低位补0|
|>>|有符号右移运算符|右移n位就是除以2的n次方，其功能是把,左边的运算数的各二进位全部右移若干位,填充由符号位决定|
|>>>|无符号右移运算符|与>>相似,只不过填充为0|

````java
public class Test {
    public static void main(String[] args) {

        System.out.println(1 & 2);// 0001与0010进行与运算为0000
        System.out.println(1 | 2);// 0001与0010进行或运算为0011(3)
        System.out.println(1 ^ 3);// 0001与0011进行异或运算为0010(2)

        System.out.println(~0);// (0进行取反运算后每一位均为1(补码形式),也就是-1)

        System.out.println(1 << 35);// 操作数为int型,模32(35%32=3),相当于1<<3,0001左移3为1000(用0填充低位,即这里0001中后三位001)
        System.out.println(1L << 35);// long型,模64，所以为34359738368
        System.out.println(3 >> 2);// 0011右移动2为,结果为0000,符号位为0,用0填充
        System.out.println(-1 >>> 31);// 用0填充高位,所以int型32位中,最后一位为1,其余为0,结果为1

    }
}
````

## 3.5.9括号与运算优先级
圆括号内优先级最高,如int x=(1+2)*3;x就是9    
![运算符优先级(从低到高)](https://i.loli.net/2021/01/31/TYnV2rXePCqbFSt.png)  
ps:优先级从高到底