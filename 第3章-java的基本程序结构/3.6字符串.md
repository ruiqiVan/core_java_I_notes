标准java类库中String可以用来表示字符串  
如String greeting="Hello";

# 3.6.1子串
````java
public class Test {
    public static void main(String[] args) {
        System.out.println("greet".substring(0,2));//打印gr
    }
}
````

"gr"是"greet"的子串,**substring**方法中第一个参数是开始复制下标,第二个参数是结束下标,复制不包含结束下标。而字符串中下标从0开始。案例中复制位置是0,1，对应字符'g','r',所以复制子串为"gr"。假如参数分别为(a,b),则字串长度为b-a

java的字符串常量是String类型,所以可以调用各种String类方法.(c++不行,因为c++字符串常量默认是const char *类型的)

# 3.6.2拼接
允许使用+来拼接字符串,当字符串与非字符串的值进行拼接时,非字符串值会变成字符串(但对应变量或常量不会变成字符串)
```` java
public class Test {
    public static void main(String[] args) {
        int age=13;
        String rating=age+"PG"+13;
        System.out.println(rating instanceof String);//object instanceof class ，判断object(对象)是否为class(类型),是返回true,否则为false,这里输出true
    }
}
````
当然了,如果你希望把多个字符符串放在一起。可以使用join方法,
从java11开始，提供了一个repeat方法
```` java
public class Test {
    public static void main(String[] args) {
        String all=String.join("\\","w","d","n","m","d");//第一个字符串为界定符,可以是空串,所以这里是"wdnmd"，如果第一个改成"\\"，就是"w\d\n\m\d
        System.out.println(all);

        String repeated="java".repeat(3);//复制3次
        System.out.println(repeated);//输出为javajavajava

    }
}
````


3.6.3不可变字符串  
String类不提供修改字符串中单个字符的方法,但你可以用拼接来实现  
```` java
public class Test {
    public static void main(String[] args) {
        String s="hello";
        s=s.substring(0,s.length()-1)+"p";//s.length()返回s长度5,所以复制是0到4,加上'p',也算是把修改了
        System.out.println(s);//输出hellp
        
    }
}
````
所以我们称String是不可变的(指组成它的单个字符不可变)  
字符串存储在公共存储池中,字符串变量指向存储池中相应位置(字符串变量类似c++/c中的指针),如果复制一个字符串变量,原始字符串与复制字符串共享相同字符(浅拷贝)
```` java
public class Test {
    public static void main(String[] args) {
        String a=new String("hello");
        String b=a;
        System.out.println(a==b);//输出true,说明它俩指向位置在相同位置上
        
    }
}
````

# 3.6.4检测字符串是否相等
不要用==判断,只能确定两个字符串是否在一个位置上,而+H或substring得到字符串不共享。
可以使用方法equals()来比较.不区分大小写用equalsIgnoreCase()
```` java
public class Test {
    public static void main(String[] args) {
        String A=new String("hello");
        System.out.println(A=="hello");//false
        System.out.println(A.equals("hello"));//true
        System.out.println(A.equalsIgnoreCase("Hello"));//true
        
    }
}
````

# 3.6.5空串与null
空串是长度为0的字符串  
if(x=="")或if(x.length()==0)//都可以判断x是否为空串  

而String变量还可以存储一个特殊值null.  
null表示当前变量没有指向任何对象,这样判断if(str!=null)

```` java
public class Test {
    public static void main(String[] args) {
        String str = null;
        // if( str.length()!=0&&str!=null)<-error
        if (str != null && str.length() != 0) {
            System.out.println(str);
        }
    }
}
````
这种情况不可以先判断是不是空串,在判断是否为null
因为变量值为null时执行任何方法都会产生异常

# 3.6.6码点与代码单元
略

# 3.6.7 String API
![API_1](https://cdn.jsdelivr.net/gh/RuiqiVan/core_java_I_img/res/unit3/StringAPI_1.png)
![API_2](https://cdn.jsdelivr.net/gh/RuiqiVan/core_java_I_img/res/unit3/StringAPI_2.png)
![API_3](https://cdn.jsdelivr.net/gh/RuiqiVan/core_java_I_img/res/unit3/StringAPI3.png)

# 3.6.8阅读联机API文档
略

# 3.6.9构建字符串
频繁拼接字符串时，每次都会构建一个新String对象。耗时费空间，使用StringBuilder类可避免这类问题,并且可以改变单个字符

```` java
public class Test {
    public static void main(String[] args) {
        StringBuilder builder=new StringBuilder();//先构造空的字符串构造器
        builder.append("wdnmd");//可以添加字符串
        builder.append('!');//也可以添加单个字符
        System.out.println(builder.toString());//wdnmd!  这里tostring()得到一个String对象
    }
}
````

![StringBuilder_API](https://cdn.jsdelivr.net/gh/RuiqiVan/core_java_I_img/res/unit3/StringBuilder.png)